<div class="register-card-container">
  <mat-card>
    <ng-container *ngIf="progressRef.state$ | async; let state">
      <mat-progress-bar [@fadeInOut] *ngIf="state.active" [value]="state.value" ></mat-progress-bar>
      <mat-card-title>{{ 'App.Register' | translate:lang }}</mat-card-title>
      <mat-card-content>
        <div class="register-form">
          <form [formGroup]="registerForm" (ngSubmit)="onregister()">

            <mat-form-field >
              <input matInput placeholder="First Name" formControlName="first_name">
              <mat-error>
                <control-messages [control]="registerForm.controls.first_name"></control-messages>
              </mat-error>
            </mat-form-field>

            <mat-form-field >
              <input matInput placeholder="Last Name" formControlName="last_name">
              <mat-error>
                <control-messages [control]="registerForm.controls.last_name"></control-messages>
              </mat-error>
            </mat-form-field>

            <mat-form-field >
              <input matInput placeholder="Email" formControlName="email">
              <mat-error>
                <control-messages [control]="registerForm.controls.email"></control-messages>
              </mat-error>
            </mat-form-field>

            <mat-form-field >
              <input matInput placeholder="Company Name" formControlName="company_name">
              <mat-error>
                <control-messages [control]="registerForm.controls.company_name"></control-messages>
              </mat-error>
            </mat-form-field>

            <mat-form-field >
              <input matInput placeholder="Password" formControlName="password" [type]="hidepass ? 'password' : 'text'">
              <mat-icon matSuffix (click)="hidepass = !hidepass">{{hidepass ? 'visibility' : 'visibility_off'}}</mat-icon>
              <mat-error>
                <control-messages [control]="registerForm.controls.password"></control-messages>
              </mat-error>
            </mat-form-field>

            <mat-form-field >
              <input matInput placeholder="Confirm Password" formControlName="confirm_password" [type]="hideconfirm ? 'password' : 'text'">
              <mat-icon matSuffix (click)="hideconfirm = !hideconfirm">{{hideconfirm ? 'visibility' : 'visibility_off'}}</mat-icon>
              <mat-error>
                <control-messages [control]="registerForm.controls.confirm_password"></control-messages>
              </mat-error>
            </mat-form-field>

            <button [disabled]="loading" *ngIf="!loading"  mat-raised-button class="submtButton" color="primary">{{ 'Button.Register' | translate:lang }}</button>
            <a [disabled]="loading" [routerLink]="['/login']" mat-button> {{ 'Button.Go To Login' | translate:lang }}</a>          
          </form>  
        </div>
      </mat-card-content>
    </ng-container>
  </mat-card>
</div>
